<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>F1 Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap">
    <link href="myCSS.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="utf-8" />
   
</head>
<body>
    <nav class="navbar navbar-dark bg-dark navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html" style="padding-right:30px;font-weight:bold">
                F1Tracker
                <div class="fa fa-flag-checkered"></div>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" aria-current="page" href="drivers.html"><i class="fa fa-user"></i>Drivers</a></li>
                    <li class="nav-item"><a class="nav-link" aria-current="page" href="favourites.html"><i class="fa fa-heart"></i>Favourites</a></li>
                    <li class="nav-item"><a class="nav-link" aria-current="page" href="constructors.html"><i class="fa fa-graduation-cap"></i>Constructors</a></li>
                    <li class="nav-item"><a class="nav-link" aria-current="page" href="circuits.html"><i class="fa fa-road"></i>Circuits</a></li>
                    <li class="nav-item"><a class="nav-link" aria-current="page" href="seasons.html"><i class="fa fa-calendar"></i>Seasons</a></li>
                    <li class="nav-item"><a class="nav-link" aria-current="page" href="races.html"><i class="fa fa-flag-checkered"></i>Races</a></li>
                    <li class="nav-item me-auto"><a class="nav-link" aria-current="page" href="tickets.html"><i class="fa fa-shopping-cart"></i>  Tickets</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="filler" style="width:100%;height:50px"></div>
    <div class="container">
        <div class="border-bottom pt-4 pb-2 mb-3">
            <h2>Formula 1 Seasons</h2>
            <h6 class ="text-dark"> Check out all the information about all the Formula 1 Seasons since 1950!</h6>
        </div>
        <div class="row">
            <div class="col-sm-4 col-md-6 col-lg-6">
                <div class="card center text-center" style="border: 3px grey solid; border-radius: 5px; width: 500px; float: left;">
                    <div class="card-body">
                        <div class="card-title">
                            <h1 class="card-header bg-success text-light" data-bind="text: displayYear"></h1>
                        </div>
                        <div class="form-group input-group rounded" style="padding: 5px;">
                            <nav aria-label="Page navigation example">
                                <ul class="pagination justify-content-center">
                                    <!-- ko if: currentPage() >= 5 -->
                                    <li class="page-item float-end"><a class="page-link" style="color: black;" title="First Page" data-bind="attr: { href: './seasons.html?page=' + '1',  rel:'prev'}"><<</a></li>
                                    <!-- /ko -->
                                    <!-- ko if: currentPage() >= 2-->
                                    <li class="page-item float-end"><a class="page-link" style="color: black" title="Previous Page" data-bind="attr: { href: './seasons.html?page=' + previousPage(),  rel:'prev'}"><</a></li>
                                    <!-- /ko -->
                                </ul>
                            </nav>
                            <input class="form-control me-2" placeholder="Search Year" type="search" aria-label="Search" id="SearchText" style="height: 35px; width: 100px; border-radius: 1px; margin-left: 10px;" />
                            <button class="btn btn-outline-dark" id="button_search" style="height: 35px; border-radius: 3px; margin-right: 10px;" type="button"><i class="fa fa-search"></i></button>
                            <nav aria-label="Page navigation example">
                                 <ul class="pagination justify-content-center">
                                            <!-- ko if: currentPage() != 72 -->
                                            <li class="page-item"><a class="page-link" style="color: black" title="Next Page" data-bind="attr: { href: './seasons.html?page=' + nextPage(), rel:'next' }">></a></li>
                                            <!-- /ko -->
                                            <!-- ko if: currentPage() <= 71  -->
                                            <li class="page-item"><a class="page-link" style="color: black" title="Last Page" data-bind="attr: { href: './seasons.html?page=' + totalPages() }">>></a></li>
                                            <!-- /ko -->
                                 </ul>
                           </nav>
                        </div>
                    </div>
                    <div class="card-text card-sm-12" style="text-align:left;margin-left:15px">
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Drivers</h6>
                            </div>
                            <div class="col-sm-9 text-secondary" data-bind="text: Drivers">
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Constructors</h6>
                            </div>
                            <div class="col-sm-9 text-secondary" data-bind="text: Constructors">
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Countries</h6>
                            </div>
                            <div class="col-sm-9 text-secondary" data-bind="text: Countries">
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Races</h6>
                            </div>
                            <div class="col-sm-9 text-secondary" data-bind="text: Races">
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Champion</h6>
                            </div>
                            <div class="col-sm-9 text-secondary" data-bind="text: Winner">
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Constructor Champion</h6>
                            </div>
                            <div class="col-sm-9 text-secondary" data-bind="text: CWinner">
                            </div>
                        </div>
                        <hr>
                        <h5>
                            <a data-bind="attr: { href: Url }">Wikipedia URL</a>
                        </h5>
                        <div class="button wrapper">
                            <button id="showDStand" class="btn default btn-primary btn-sm" style="margin-bottom:20px;"> Driver Standings</button>
                            <button id="showCStand" class="btn default btn-primary btn-sm" style="margin-bottom:20px;"> Constructor Standings</button>
                            <button id="showRaces" class="btn default btn-primary btn-sm"style="margin-bottom:20px;">Races</button>
                            <button id="Hide" class="btn default btn-primary btn-sm d-none" style="margin-bottom:20px;">Hide Standings</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-sm-6 col-md-6">
                <table class="table d-none" id="tableDStand" style="width:350px;position:absolute;border:3px solid;height:600px;overflow-y:scroll; border-radius: 4px;">
                    <thead>
                        <tr>
                            <th scope="col" style="padding-right:50px;text-align:center">Position</th>
                            <th scope="col" style="padding-right:50px;text-align:center">ID</th>
                            <th scope="col">Name</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: records">
                        <tr>
                            <th scope="row" data-bind="text: Position"></th>
                            <td data-bind="text: DriverId"></td>
                            <td data-bind="text: Name"></td>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table class="table d-none" id="tableCStand" style="width:350px;position:absolute;border:3px solid;height:500px;overflow-y: scroll;border-radius: 4px;">
                    <thead>
                        <tr>
                            <th scope="col" style="padding-right:50px;text-align:center">Points</th>
                            <th scope="col" style="padding-right:50px;text-align:center">Id</th>
                            <th scope="col">Constructor Name</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: records2">
                        <tr>
                            <th scope="row" data-bind="text: Points"></th>
                            <td data-bind="text: ConstructorId"></td>
                            <td data-bind="text: Name"></td>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table class="table d-none" id="tableRaces" style="width:500px;position:absolute;border:3px solid;height:600px;overflow-y:scroll; border-radius: 4px;">
                    <thead>
                        <tr>
                            <th scope="col" style="padding-right:50px;text-align:center">Race ID</th>
                            <th scope="col" style="padding-right:50px;text-align:center">Circuit Name</th>
                            <th scope="col">Round</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: records3">
                        <tr>
                            <th scope="row" data-bind="text: RaceId"></th>
                            <td data-bind="text: CircuitName"></td>
                            <td data-bind="text: Round"></td>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="filler" style="width:100%;height:100px"></div>
        <nav class="navbar navbar-dark bg-dark fixed-bottom">
            <div class="container small">
                <div class="navbar-text">&copy;  Introdução as Tecnologias Web - 2021/22</div>
                <div class="navbar-text">Made with <i class="fa fa-heart-o text-danger"></i> for <a href="mailto:jsp@ua.pt" class="text-decoration-none text-muted">jsp@ua.pt</a> by <a href="mailto:filipe.obrist@ua.pt" class="text-decoration-none text-muted">filipe.obrist@ua.pt</a> &  <a href="mailto:rodrigoaguiar96@ua.pt" class="text-decoration-none text-muted">rodrigoaguiar96@ua.pt</a></div>
                <div class="navbar-nav">
                    <div class="nav-item text-end"><a href="https://www.ua.pt" class="nav-link">Universidade de Aveiro</a></div>
                </div>
            </div>
        </nav>
        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-dark text-light">
                        <h5 class="modal-title" id="exampleModalLabel">
                            <i class="fa fa-spin fa-3x fa-refresh"></i>                                                        Loading data...

                        </h5>
                    </div>
                    <div class="modal-body text-center" style="background-image: url(https://www.gqportugal.pt/media/pages/4472/full_F1.jpg); background-position: center; background-size: cover; height: 100px;">
                    </div>
                </div>
            </div>
        </div>
        <script src="../Scripts/bootstrap.bundle.min.js"></script>
        <script src="../Scripts/knockout-3.5.1.js"></script>
        <script src="../Scripts/jquery-3.6.0.min.js"></script>
        <script src="seasons.js"></script>
        <script>
            $("#button_search").click(function () {
                var box = $("#SearchText").val();
                console.log(box)
                var value = box - 1949
                console.log(value)
                if (value < 1 || value > 72) {
                    alert("Error 404 - No Seasons Available in " + box)
                }
                else {
                    window.location.replace("seasons.html?page=" + value)
                }
            });
        </script>
</body>
</html>